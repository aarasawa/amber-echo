---
title: More SQLZoo Practice
published: 2025-01-08
description: ''
image: ''
tags: ["SQLZoo"]
category: 'SQL'
draft: false 
lang: 'en'
---

## Why?

I am going to keep practicing. In the future, I need to get around to creating flashcards for basic terminology and acronyms in computing. The exam is weird in that it can go from asking about SQL queries straight to asking what SSL stands for. I want to cover all my bases.

### Problem: Bigger than every country in Europe

Idea is to separate statements into their own queries. For example:
> Which countries have a GDP greater than every country in Europe? [Some countries may have NULL GDP values]

1. We are selecting for country GDPs for all countries NOT in Europe
2. Selecting GDP from every country in Europe to compare to

``` sql
--Start with subquery and weed out countries with NULL GDPs
SELECT gdp 
  FROM world
 WHERE gdp > 0
   AND continent = 'Europe'

--Combined query
SELECT name
  FROM world
 WHERE continent != 'Europe'
   AND gdp > ALL(SELECT gdp
                   FROM world
                  WHERE gdp > 0
                    AND continent = 'Europe' )
```

## Problem: Largest in each continent

Find the largest country (by area) in each continent, show the continent, and name and the area.

### Correlated (synchronized) subqueries

Correlated subqueries work like nested loops. Using table aliases to separate uses of the same table.

``` sql
SELECT continent, name, area
  FROM world x
 WHERE area >= ALL
    (SELECT area FROM world y
      WHERE y.continent = x.continent
        AND area > 0)
```
